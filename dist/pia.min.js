/**!
 * Pia JS v0.0.4
 * @author phucbm
 * @homepage https://github.com/phucbm/pia
 * @license MIT 2023
 */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,(()=>(()=>{"use strict";var e={r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e){return Date.parse("string"==typeof e?e:e.toString())}function r(e,t,r){return Math.floor(function(e,t){return n(t)-n(e)}(e,t)/function(e=""){const t=36e5,n={second:1e3,minute:6e4,hour:t,day:24*t,year:31536e6};return["year","day","hour","minute","second"].includes(e)?n[e]:n}(r))}function o(e){if(!e)return!0;return!["session","never"].includes(e.expires)&&function(e){const t=s(e);if(null===t)return!1;const n=e.expires;return t>n}(e)}function s(e,t=void 0){t=t||e.unit;return["ms","second","minute","hour","day"].includes(t)?r(new Date(e.createdDate),new Date,t):null}function u(e,t=!1){let n=localStorage.getItem(e);if(null===n&&(n=sessionStorage.getItem(e)),null===n)return n;const r=JSON.parse(n);return o(r)?(i(r.key,r.storageType),null):t?r:r.value}function i(e,t="localStorage"){"sessionStorage"===t?sessionStorage.removeItem(e):localStorage.removeItem(e)}e.r(t);return window.Pia=new class{constructor(){}isExpired(e){return o(u(e))}set(e,t,n={}){const r={expires:"never",unit:"day",...n},o=function(e){return!!["hour","day"].includes(e)&&e}(r.unit),s=function(e,t){if("string"==typeof e)return["session","tab","current-tab"].includes(e)?"session":"never";return"number"==typeof e&&parseInt(e)}(r.expires),a=function(e){return"session"===e?"sessionStorage":"localStorage"}(s);!function(e,t){const n=t.storageType,r=JSON.stringify(t),o=u(e);null!==o&&o.storageType!==n&&i(e);"sessionStorage"===n?sessionStorage.setItem(e,r):localStorage.setItem(e,r)}(e,{key:e,valueType:typeof t,value:t,expires:s,unit:o,storageType:a,arguments,createdDate:(new Date).toString()})}get(e,t=!1){return u(e,t)}remove(e){return i(e)}test(e,t=!1){const n=u(e,!0);let r;const o=[];return n?("number"==typeof n.expires?(o.push(`${n.expires-s(n)} ${n.unit}(s) left`),["second","minute","hour","day"].forEach((e=>{o.push(`created ${s(n,e)} ${e}(s) ago`)}))):o.push(n.expires),r={leftover:o,record:n}):r=`Record "${e}" not found.`,t&&(console.group("Test record:",e),console.table(o),console.log("record",n),console.groupEnd()),r}},t})()));